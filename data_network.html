<!DOCTYPE html>
<html>
  <head>
    <title>Vis Network | Basic usage</title>

    <script type="text/javascript" src="https://visjs.github.io/vis-network/standalone/umd/vis-network.min.js"></script>
    <style type="text/css">
      #mynetwork {
        width: 1600px;
        height: 1200px;
        border: 1px solid lightgray;
        color: white;
      }
      #moreinfo{
        float: right;
      }
    </style>
  </head>
  <body>
    <p>Things!</p>

    <!-- <div id="moreinfo">more info</div> -->
    <div id="mynetwork"></div>


    <script type="text/javascript">

    coreNodeColor = {
      background: "rgba(3,51,127,1)",
      //border: "red"
    };
    coreNodeFont = {
      color: "white",
      size: 42
     };
     coreNodeMass = 20;

    midNodeColor = {
      background: "#FF931E",
    };
    midNodeFont = {
      color: "white",
      size: 32
     };
     midNodeMass = 8;



    // flex/inflex loads
    loadNodeColor = {
      background: "green",
    };
    loadNodeFont = {
      color: "white",
      size: 32
     };
     loadNodeMass = 7;

    // leaf nodes
    leafNodeColor = {
      background: "rgba(34,34,34,0.75)",
    };
    leafNodeFont = {
      color: "white",
      size: 20
     };


    // create an array with nodes
    var nodes = new vis.DataSet([
      // core nodes
      { id: 1, label: "Electricity", color: coreNodeColor, font: coreNodeFont, mass: coreNodeMass , otherThing: "blahblahblah" },
      { id: 2, label: "Water", color: coreNodeColor, font: coreNodeFont, mass: coreNodeMass },
      { id: 3, label: "Gas", color: coreNodeColor, font: coreNodeFont, mass: coreNodeMass },

      { id: 4, label: "Weather", color: midNodeColor, font: midNodeFont, mass: midNodeMass },
      { id: 5, label: "Location", color: midNodeColor, font: midNodeFont, mass: midNodeMass },
      { id: 6, label: "Price & Emissions", color: midNodeColor, font: midNodeFont, mass: midNodeMass },

      { id: 7, label: "Indoor Temperature" },
      { id: 8, label: "Ercot ISO" },
      { id: 9, label: "New York ISO" },
      { id: 10, label: "Midcontinent ISO" },
      { id: 11, label: "New England ISO" },

      // Energy loads, flexible and inflexible
      { id: 12, label: "Flexible Loads", color: loadNodeColor, font: loadNodeFont, mass: loadNodeMass },
      { id: 13, label: "Inflexible Loads", color: loadNodeColor, font: loadNodeFont, mass: loadNodeMass  },


      { id: 14, label: "Generation", color: loadNodeColor, font: loadNodeFont, mass: loadNodeMass },
      { id: 15, label: "Solar" },

      { id: 16, label: "Energy", color: midNodeColor, font: midNodeFont, mass: midNodeMass },
      { id: 17, label: "Power Quality", color: midNodeColor, font: midNodeFont, mass: midNodeMass },

      { id: 18, label: "Apparent" },
      { id: 19, label: "Total Harmonic Distortion" },
      { id: 20, label: "Phase Angle" },

      // Flexible Loads
        { id: 21, label: "HVAC" },
        { id: 22, label: "Electric Vehicle" },
        { id: 23, label: "Pool Pump" },
        { id: 24, label: "Battery Storage" },

      // inflexible loads
        { id: 25, label: "Water Heater" },
        { id: 26, label: "Refrigerator" },
        { id: 27, label: "Sump Pump" },
        { id: 28, label: "Television" },
        { id: 29, label: "Accessories" },
    ]);

    // create an array with edges
    var edges = new vis.DataSet([
      { from: 1, to: 4 },
      { from: 1, to: 5 },
      { from: 2, to: 4 },
      { from: 2, to: 5 },
      { from: 3, to: 4 },
      { from: 3, to: 5 },
      { from: 4, to: 5 },
      { from: 6, to: 4 },
      { from: 6, to: 5 },
      { from: 6, to: 8 },
      { from: 6, to: 9 },
      { from: 6, to: 10 },
      { from: 6, to: 11 },
      // indoor temp
      { from: 7, to: 1 },
      { from: 7, to: 3 },
      { from: 7, to: 4 },

      // electricity to energy:
      { from: 1, to: 16 },
      // electricity to power quality
      { from: 1, to: 17 },

      // power quality to the other things to power quality
      { from: 17, to: 18 },
      { from: 17, to: 19 },
      { from: 17, to: 20 },

      // flex vs inflex
      { from: 16, to: 12 },
      { from: 16, to: 13 },
      { from: 16, to: 14 },
      { from: 14, to: 15 },

      // flexible loads
      { from: 12, to: 21 },
      { from: 12, to: 22 },
      { from: 12, to: 23 },
      { from: 12, to: 24 },

      // inflexible loads
      { from: 13, to: 25 },
      { from: 13, to: 26 },
      { from: 13, to: 27 },
      { from: 13, to: 28 },
      { from: 13, to: 29 },

    ]);

    // create a network
    var container = document.getElementById("mynetwork");
    var data = {
      nodes: nodes,
      edges: edges,
    };
    var options = {
      nodes: {
        shape: "box",
        font: leafNodeFont,
      }
    };
    var network = new vis.Network(container, data, options);

    network.on("selectNode", function(params) {
      console.log("clicked on ", params);
      console.log("data is ", data);
    });

    </script>
  </body>
</html>
